<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>~clicky?</title>
        <style> *{ margin: 0; } </style>
    </head>
    <body>
    	<canvas></canvas>
        <script>
        	var canvas = document.getElementsByTagName('canvas')[0];
			var c = canvas.getContext("2d");

			canvas.width = window.innerWidth;
			canvas.height = window.innerHeight;

			var background = function(shade){
				c.fillStyle = shade; 
				c.globalAlpha = 0.8;
				c.fillRect(0, 0, canvas.width, canvas.height);
				c.globalAlpha = 1;
			}

			var getRandomColour = function(){
				red = Math.round(Math.random()*255);
				green = Math.round(Math.random()*255);
				blue = Math.round(Math.random()*255);
				return 'rgba('+ red +','+ green +','+ blue + ',1)';
			}

			var whatever = function(e){
				background( getRandomColour() );
				// somethingRude(e.x, e.y);
				box( getRandomColour(), [100, 100], [e.x, e.y] );
			}

			var box = function(color, size, pos){
				pos = pos || [0, 0]; //default
				c.fillStyle = color;
				c.fillRect( pos[0]-(size[0]/2), pos[1]-(size[1]/2), size[0], size[1] );
			}


			var somethingRude = function(x, y){
				c.save();
				c.translate(x-50, y-50);
				c.fillStyle = '#000';
				c.fillRect(0, 0, 100, 100);
				c.restore();
			}

			// window.onmousedown = whatever;
			// window.onmouseup = whatever;
			window.onclick = whatever;


        </script>
    </body>
</html>